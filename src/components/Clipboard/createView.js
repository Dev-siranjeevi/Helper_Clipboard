// function checkerA(ar)
import {
  clipList
} from "../clipboard.js"
import {
  pinValidation
} from "./pinClip.js"
export const createView = (list) => {
  let prev = document.querySelectorAll(".clip");
  // console.log(prev);
  // Check and remove exsiting
  try {
    if (prev.length > 0) {
      prev.forEach((exsiting) => {
        exsiting.remove()
      })
    }
  } catch (err) {

    console.log("Issue in removing");
  }

  // create a new div with same id and loop through the array.clipboard

  let prior = pinValidation(list).slice().reverse();
  prior.forEach((clip, index) => {
    // console.log(index);
    clips.insertAdjacentHTML('beforeend', clipView(clip.value, clip.time, index));
  })
}

const clips = document.querySelector(".clips");

let clipView = (data, time, postion) => {

  const clip = `<div class="clip">
        <!-- Clip value -->
        <div class="content">
          <p class="content-val noselect">
          ${data}
          </p>
        </div>
        <!-- actions center -->
        <div class="action fl fl-spbtw fl fl-spbtw-spbtw">
          <div class="timeline noselect">
            <span class="time">
              ${time}
            </span>
          </div>
          <div class="clipAction fl fl-spbtw fl fl-spbtw-spbtw">
            <svg class="btn-default copy" id="copy${postion}"width="12" height="15" viewBox="0 0 12 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.57143 13.125V14.2969C8.57143 14.6852 8.28362 15 7.92857 15H0.642857C0.287812 15 0 14.6852 0 14.2969V3.51562C0 3.12729 0.287812 2.8125 0.642857 2.8125H2.57143V11.4844C2.57143 12.389 3.24431 13.125 4.07143 13.125H8.57143ZM8.57143 3.04688V0H4.07143C3.71638 0 3.42857 0.314795 3.42857 0.703125V11.4844C3.42857 11.8727 3.71638 12.1875 4.07143 12.1875H11.3571C11.7122 12.1875 12 11.8727 12 11.4844V3.75H9.21429C8.86071 3.75 8.57143 3.43359 8.57143 3.04688ZM11.8117 2.13782L10.0454 0.205928C9.92486 0.0740749 9.76136 9.74989e-07 9.59087 0L9.42857 0V2.8125H12V2.63499C12 2.44852 11.9323 2.26968 11.8117 2.13782V2.13782Z" />
            </svg>


            <svg class="btn-default pin"  id="pin${postion}" width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.8697 5.38725L15.2411 4.75864C15.0675 4.58503 14.7861 4.58503 14.6125 4.75864L14.2983 5.07281L13.4955 4.27002C13.6519 3.67808 13.5055 3.0228 13.0414 2.55863L11.7844 1.30167C10.0489 -0.433891 7.23467 -0.433891 5.49883 1.30167L8.01301 2.55863V3.07946C8.01301 3.55085 8.20023 4.00308 8.53385 4.33641L9.89885 5.70142C10.363 6.16559 11.0183 6.31198 11.6103 6.15559L12.413 6.95837L12.0989 7.27254C11.9253 7.44615 11.9253 7.72755 12.0989 7.90116L12.7275 8.52977C12.9011 8.70338 13.1825 8.70338 13.3561 8.52977L15.8703 6.01559C16.0433 5.84226 16.0433 5.56087 15.8697 5.38725V5.38725ZM7.90523 4.96503C7.80245 4.86225 7.71523 4.74864 7.63162 4.63308L0.545467 11.249C-0.164815 11.9123 -0.183982 13.032 0.502966 13.7192C1.18991 14.4065 2.30992 14.3873 2.97326 13.6767L9.58802 6.59143C9.47802 6.51059 9.36857 6.42837 9.27024 6.33004L7.90523 4.96503V4.96503Z" />
            </svg>

            <svg class="btn-default delete-single" id="del${postion}" width="12" height="15" viewBox="0 0 12 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.857143 13.327C0.857143 13.6927 0.992602 14.0433 1.23372 14.3019C1.47484 14.5604 1.80186 14.7057 2.14286 14.7057H9.85714C10.1981 14.7057 10.5252 14.5604 10.7663 14.3019C11.0074 14.0433 11.1429 13.6927 11.1429 13.327V3.67643H0.857143V13.327ZM8.14286 5.97419C8.14286 5.85231 8.18801 5.73542 8.26838 5.64924C8.34876 5.56305 8.45776 5.51464 8.57143 5.51464C8.68509 5.51464 8.7941 5.56305 8.87447 5.64924C8.95485 5.73542 9 5.85231 9 5.97419V12.4079C9 12.5298 8.95485 12.6467 8.87447 12.7329C8.7941 12.8191 8.68509 12.8675 8.57143 12.8675C8.45776 12.8675 8.34876 12.8191 8.26838 12.7329C8.18801 12.6467 8.14286 12.5298 8.14286 12.4079V5.97419ZM5.57143 5.97419C5.57143 5.85231 5.61658 5.73542 5.69695 5.64924C5.77733 5.56305 5.88634 5.51464 6 5.51464C6.11366 5.51464 6.22267 5.56305 6.30305 5.64924C6.38342 5.73542 6.42857 5.85231 6.42857 5.97419V12.4079C6.42857 12.5298 6.38342 12.6467 6.30305 12.7329C6.22267 12.8191 6.11366 12.8675 6 12.8675C5.88634 12.8675 5.77733 12.8191 5.69695 12.7329C5.61658 12.6467 5.57143 12.5298 5.57143 12.4079V5.97419ZM3 5.97419C3 5.85231 3.04515 5.73542 3.12553 5.64924C3.2059 5.56305 3.31491 5.51464 3.42857 5.51464C3.54224 5.51464 3.65124 5.56305 3.73162 5.64924C3.81199 5.73542 3.85714 5.85231 3.85714 5.97419V12.4079C3.85714 12.5298 3.81199 12.6467 3.73162 12.7329C3.65124 12.8191 3.54224 12.8675 3.42857 12.8675C3.31491 12.8675 3.2059 12.8191 3.12553 12.7329C3.04515 12.6467 3 12.5298 3 12.4079V5.97419ZM11.5714 0.91911H8.35714L8.10536 0.382008C8.05202 0.267181 7.96986 0.170592 7.86812 0.103105C7.76638 0.0356187 7.6491 -8.69693e-05 7.52946 5.03575e-06H4.46786C4.34849 -0.000486988 4.23142 0.0350856 4.13004 0.102647C4.02866 0.170209 3.94708 0.267027 3.89464 0.382008L3.64286 0.91911H0.428571C0.314907 0.91911 0.205898 0.967527 0.125526 1.05371C0.0451529 1.13989 0 1.25678 0 1.37866L0 2.29777C0 2.41965 0.0451529 2.53654 0.125526 2.62272C0.205898 2.7089 0.314907 2.75732 0.428571 2.75732H11.5714C11.6851 2.75732 11.7941 2.7089 11.8745 2.62272C11.9548 2.53654 12 2.41965 12 2.29777V1.37866C12 1.25678 11.9548 1.13989 11.8745 1.05371C11.7941 0.967527 11.6851 0.91911 11.5714 0.91911V0.91911Z" />
            </svg>

          </div>
        </div>
      </div>`
  return clip;
};
